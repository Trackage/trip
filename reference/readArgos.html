<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Read Argos "DAT" or "DIAG" files — readArgos • trip</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Read Argos "DAT" or "DIAG" files — readArgos" />
<meta property="og:description" content="Return a (Spatial) data frame of location records from raw Argos files.
Multiple files may be read, and each set of records is appended to the data
frame in turn.  Basic validation of the data is enforced by default." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">trip</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.7.1.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/trip.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/trip-rationale.html">trip-rationale</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/Trackage/trip/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Read Argos "DAT" or "DIAG" files</h1>
    <small class="dont-index">Source: <a href='https://github.com/Trackage/trip/blob/master/R/read.R'><code>R/read.R</code></a></small>
    <div class="hidden name"><code>readArgos.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Return a (Spatial) data frame of location records from raw Argos files.
Multiple files may be read, and each set of records is appended to the data
frame in turn.  Basic validation of the data is enforced by default.</p>
    </div>

    <pre class="usage"><span class='fu'>readArgos</span>(
  <span class='kw'>x</span>,
  correct.all = <span class='fl'>TRUE</span>,
  dtFormat = <span class='st'>"%Y-%m-%d %H:%M:%S"</span>,
  tz = <span class='st'>"GMT"</span>,
  duplicateTimes.eps = <span class='fl'>0.01</span>,
  p4 = <span class='st'>"+proj=longlat +ellps=WGS84"</span>,
  verbose = <span class='fl'>FALSE</span>,
  read_alt = <span class='kw'>NULL</span>,
  <span class='kw'>...</span>
)

<span class='fu'>readDiag</span>(<span class='kw'>x</span>, return_trip = <span class='fl'>FALSE</span>, read_alt = <span class='fl'>1L</span>, <span class='kw'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>vector of file names of Argos "DAT" or "DIAG" files.</p></td>
    </tr>
    <tr>
      <th>correct.all</th>
      <td><p>logical - enforce validity of data as much as possible?
(see Details)</p></td>
    </tr>
    <tr>
      <th>dtFormat</th>
      <td><p>the DateTime format used by the Argos data "date" and "time"
pasted together</p></td>
    </tr>
    <tr>
      <th>tz</th>
      <td><p>timezone - GMT/UTC is assumed</p></td>
    </tr>
    <tr>
      <th>duplicateTimes.eps</th>
      <td><p>what is the tolerance for times being duplicate?</p></td>
    </tr>
    <tr>
      <th>p4</th>
      <td><p>PROJ.4 projection string, "+proj=longlat +ellps=WGS84" is assumed</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>if TRUE, details on date-time adjustment is reported</p></td>
    </tr>
    <tr>
      <th>read_alt</th>
      <td><p>is <code>NULL</code> by default, with longitude and latitude read from the PRV message, if <code>1</code> or <code>2</code>
then attempt is made to read the alternative locations (but these are not always present)</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>reserved for future use</p></td>
    </tr>
    <tr>
      <th>return_trip</th>
      <td><p>for <code>readDiag()</code> if <code>TRUE</code> will return a trip object, use <code>read_alt</code> to control the location</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>readArgos</code> returns a <code>trip</code> object, if all goes well, or simply a
<code><a href='https://rdrr.io/pkg/sp/man/SpatialPointsDataFrame-class.html'>SpatialPointsDataFrame-class</a></code>.</p>
<p><code>readDiag</code> returns a <code>data.frame</code> with 8 columns:</p><ul>
<li><p><code>lon1</code>,<code>lat1</code> first pair of coordinates</p></li>
<li><p><code>lon1</code>,<code>lat1</code> second pair of coordinates</p></li>
<li><p>gmt DateTimes as POSIXct</p></li>
<li><p>id Platform Transmitting Terminal (PTT) ID</p></li>
<li><p>lq Argos location quality class</p></li>
<li><p>iq some other thing</p></li>
</ul>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>readArgos</code> performs basic validation checks for class <code>trip</code> are
made, and enforced based on <code>correct.all</code>:</p>
<p>No duplicate records in the data, these are simply removed.  Records are
ordered by DateTime ("date", "time", "gmt") within ID ("ptt").  No duplicate
DateTime values within ID are allowed: to enforce this the time values are
moved forward by one second - this is done recursively and is not robust.</p>
<p>If validation fails the function will return a
<code><a href='https://rdrr.io/pkg/sp/man/SpatialPointsDataFrame-class.html'>SpatialPointsDataFrame-class</a></code>.  Files that are not obviously of
the required format are skipped.</p>
<p>Argos location quality data "class" are ordered, assuming that the available
levels is <code>levels=c("Z", "B", "A", "0", "1", "2", "3")</code>.</p>
<p>A projection string is added to the data, assuming the PROJ.4 longlat - if
any longitudes are greater than 360 the PROJ.4 argument "+over" is added.</p>
<p><code>readDiag</code> simply builds a <code>data.frame</code>.</p>
<p>With <code>read_alt</code> the default value <code>NULL</code> returns the PRV location as-is. Some files may have
a standardized location, and a dummy. If <code>read_alt</code> is set to 1 or 2 the corresponding "alternative"
location is returned. 1 is a standardized location corresponding to the original PRV message, and 2 is a
"dummy" location.</p>
    <h2 class="hasAnchor" id="warning-"><a class="anchor" href="#warning-"></a>Warning </h2>

    


<p>This works on some Argos files I have seen.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>The Argos data documentation was (ca. 2003) at
http://www.argos-system.org/manual.  Specific details on the PRV
("provide data") format were found in Chapter 4_4_8, originally at
'http://www.cls.fr/manuel/html/chap4/chap4_4_8.htm'.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='trip-methods.html'>trip</a></code>, <code><a href='https://rdrr.io/pkg/sp/man/SpatialPointsDataFrame-class.html'>SpatialPointsDataFrame-class</a></code>,
<code><a href='adjust.duplicateTimes.html'>adjust.duplicateTimes</a></code>, for manipulating these data, and
<code><a href='argos.sigma.html'>argos.sigma</a></code> for relating a numeric value to Argos quality
"classes".</p>
<p><code><a href='sepIdGaps.html'>sepIdGaps</a></code> for splitting the IDs in these data on some minimum
gap.</p>
<p><code><a href='https://rdrr.io/r/base/order.html'>order</a></code>, <code><a href='https://rdrr.io/r/base/duplicated.html'>duplicated</a></code>, , <code><a href='https://rdrr.io/r/base/factor.html'>ordered</a></code> for
general manipulation of this type.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>argosfile</span> <span class='op'>&lt;-</span>
  <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"extdata/argos/98feb.dat"</span>, package = <span class='st'>"trip"</span>, mustWork = <span class='fl'>TRUE</span>)
<span class='kw'>argos</span> <span class='op'>&lt;-</span> <span class='fu'>readArgos</span>(<span class='kw'>argosfile</span>)</div><div class='output co'>#&gt; 
#&gt; Longitudes contain values greater than 180, 
#&gt; 
#&gt; 
#&gt; 
#&gt; 
#&gt;  Data fully validated: returning object of class  trip </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Michael D. Sumner.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


