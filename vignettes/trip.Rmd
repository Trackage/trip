---
title: "The trip package"
author: Michael Sumner
date: "`r Sys.Date()`"
output:
  rmarkdown::html_vignette:
    fig_width: 7
    fig_height: 7
vignette: >
  %\VignetteIndexEntry{trip}
  %\VignetteEngine{knitr::rmarkdown}
editor_options: 
  chunk_output_type: console
---


# Introduction

Basic use of the trip package.

## Data input and validation
```{r}
library(trip)
d <- data.frame(x=1:10,y=rnorm(10), tms=Sys.time() + 1:10, id=gl(2, 5))
sp::coordinates(d) <- ~x+y
## a projection should always be set, is it WGS84 or NAD83 . . .
sp::proj4string(d) <- sp::CRS("+proj=laea +ellps=sphere")
tr <- trip(d, c("tms", "id"))
summary(tr)
```

# Simple plotting


```{r}
plot(tr)
lines(tr)
```

Plot of a very simple trip object.

# Gridding for time spent

```{r}
tg <- rasterize(tr)
plot(tg, col = c("transparent", heat.colors(25)))
```

Plot of a rasterized version of the trip, by default this is a map of **time-spent**. 

# Walrus tracks

Plot the walrus tracks on a map. 

```{r}
data("walrus818")

plot(walrus818, pch = ".")
lines(walrus818)
```


```{r}
library(maptools)
library(rgdal)
data(wrld_simpl)
world <- sp::spTransform(subset(wrld_simpl, coordinates(wrld_simpl)[,2] > 0), proj4string(walrus818))
p <- par(xpd = NA, mar = rep(0.5, 4))
plot(walrus818, pch = ".")
plot(world, add = TRUE, col = "grey")
lines(walrus818)
llgridlines(walrus818); par(p)
```

